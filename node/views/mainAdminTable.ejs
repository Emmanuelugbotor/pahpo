
 <%- include ('partials/mainAdminHeader.ejs') -%>	
 <!-- Dark table -->
 <div class="row">
   <div class="col">
     <div class="card bg-default shadow">
       <div class="card-header bg-transparent border-0">
         <% if ( success ) { %>
         <h3 class="text-white mb-0" id="www"> <%= success %> </h3>
          <% } %>
          <div>
           <% if ( deletess ) { %>
         <h3 class="text-white mb-0" id="www"> <%= deletess %> </h3>
          <% } %>
          <% if ( deletedUser ) { %>
         <h3 class="text-white mb-0" id="www"> <%= deletedUser %> </h3>
          <% } %>
          </div>
       </div>
     </div>
   </div>
 </div>

   <div class="row">
   <div class="col">
     <div class="card bg-default shadow">
       <div class="card-header bg-transparent border-0">
       </div>

       <div class="table-responsive">
         <table class="table align-items-center table-dark table-flush">
           <thead class="thead-dark" >
             <tr >
               <th scope="col" class="sort"></th>
               <th scope="col" class="sort" data-sort="name">ID</th> 
               <th scope="col" class="sort" data-sort="budget">Name</th>
               <th scope="col" class="sort" data-sort="status">Number</th>
               <th scope="col" class="sort" data-sort="completion">Email</th>
               <th scope="col" class="sort" data-sort="completion">Address</th>               
               <th scope="col" class="sort" data-sort="completion">Product</th>               
             </tr>
           </thead>
           <tbody class="list" style="color: white; font-weight: bold;">
              <% if(locals.usersData) {%>
                 <% Object.values(usersData).forEach(function(product) {%>
             <tr>
               
                <td class="text-right">
                 <div class="dropdown">
                   <a class="btn btn-sm btn-icon-only text-light" href="#" role="button" data-toggle="dropdown"
                     aria-haspopup="true" aria-expanded="false" style="background-color: black;color: white;">
                     <i class="fas fa-ellipsis-v" style="color: white;"></i>
                   </a>
                   <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow" >
                     <a class="dropdown-item" href="/adminVerifyUser/<%= product.id %>"  style="background-color: rgb(98, 209, 98); color: white; font-weight: bold; margin-bottom: 5px;">Verify</a>
                     <!-- <button class="btn btn-sm btn-neutral w-100" > Edit </button> -->

                     <a role="button" class="dropdown-item" data-toggle="modal" data-target="#edit<%= product.id %>"  style="background-color: rgb(140, 0, 255); color: white; font-weight: bold; margin-bottom: 5px; cursor: pointer;"> Edit </a>
                     <a class="dropdown-item" href="/adminDeleteUser/<%= product.id %>"  style="background-color: red; color: white; font-weight: bold; margin-bottom: 5px;">Delete</a>
                   </div>
                 </div>
               </td>

               <th scope="row">
                 
                
                 <%= product.id %>
               </th>
               <td class="budget">
                <%= product.name %>
               </td>
               <td>
                 <%= product.phone %>
               </td>
              
               <td>
                 <%= product.email %>
               </td>
               <td>
                 <%= product.address %>
               </td>
              
               <td>
                 <a href="/adminselectproduct/<%= product.id %>">
                   <button class="btn btn-sm btn-success">
                     View Product
                   </button>
                 </a>
               </td>
               
              
             </tr>


             <div
             class="modal fade"
             id="edit<%= product.id %>"
             tabindex="-1"
             role="dialog"
             aria-labelledby="exampleModalLabel"
             aria-hidden="true"
           >
             <div class="modal-dialog" role="document">
               <div class="modal-content">
                 <div class="modal-header">
                   <h5 class="modal-title" id="exampleModalLabel">
                     Edit Farmers Details
                   </h5>
                   <button
                     type="button"
                     class="close"
                     data-dismiss="modal"
                     aria-label="Close"
                   >
                     <span aria-hidden="true">&times;</span>
                   </button>
                 </div>
                 <div class="modal-body">
                   <form action="/adminEditUser/<%= product.id %>" method="POST">
                     <input type="hidden" name="id"  value="<%= product.id %>" />

                     <div id="show<%= product.id %>">

                       <div class="form-group">
                         <label for="">Farmer's Name </label>
                         <input
                         type="text"
                         value="<%= product.name %>"
                         class="form-control"
                         name="name"
                         placeholder="Enter Farmer's name"
                         required
                         />
                        </div>
                       <div class="form-group">
                         <label for="">Farmer's Email </label>
                         <input
                         type="text"
                         value="<%= product.email %>"
                         class="form-control"
                         name="email"
                         placeholder="Enter Farmer's email"
                         required
                         />
                        </div>
                       <div class="form-group">
                         <label for="">Farmer's Number </label>
                         <input
                         type="text"
                         value="<%= product.phone %>"
                         class="form-control"
                         name="phone"
                         placeholder="Enter Farmer's phone"
                         required
                         />
                        </div>
                       <div class="form-group">
                         <label for="">Farmer's Address </label>
                         <input
                         type="text"
                         value="<%= product.address %>"
                         class="form-control"
                         name="address"
                         placeholder="Enter Farmer's address"
                         required
                         />
                        </div>
                        
                     </div>



                     <button type="submit" class="btn btn-primary">
                       EDIT
                     </button>
                   </form>
                 </div>
                 <div class="modal-footer">
                   <button
                     type="button"
                     class="btn btn-primary"
                     data-dismiss="modal"
                   >
                     Close
                   </button>
                 </div>
               </div>
             </div>
           </div>
             
              <%})%>
           <%}else{%>
                <p>No register customers yet</p>
           <%}%>

           </tbody>
         </table>
       </div>
     </div>
   </div>
 </div>



<%- include ('partials/adminFooter.ejs') -%>




